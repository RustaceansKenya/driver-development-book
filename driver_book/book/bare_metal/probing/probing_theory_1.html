<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Probing Theory - driver development in Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">INTRO</li><li class="chapter-item expanded "><a href="../../intro/intro.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="../../intro/prerequisites.html"><strong aria-hidden="true">2.</strong> Prerequisites for the Book</a></li><li class="chapter-item expanded affix "><li class="part-title">UNDERSTANDING DRIVERS (theory)</li><li class="chapter-item expanded "><a href="../../understanding_drivers/understanding_drivers.html"><strong aria-hidden="true">3.</strong> Intro to Drivers</a></li><li class="chapter-item expanded "><a href="../../understanding_drivers/controlling_the_device_below.html"><strong aria-hidden="true">4.</strong> Role 1: Controlling the device below</a></li><li class="chapter-item expanded "><a href="../../understanding_drivers/providing_an_interface.html"><strong aria-hidden="true">5.</strong> Role 2: Providing an interface</a></li><li class="chapter-item expanded "><a href="../../understanding_drivers/types_of_drivers.html"><strong aria-hidden="true">6.</strong> Types of Drivers</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Kernel and Driver Interaction mechanisms</div></li><li class="chapter-item expanded affix "><li class="part-title">BARE METAL PROGRAMMING</li><li class="chapter-item expanded "><a href="../../bare_metal/the_no_std_preface.html"><strong aria-hidden="true">8.</strong> No std preface</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../bare_metal/no_std/the_no_std_intro.html"><strong aria-hidden="true">8.1.</strong> No std</a></li><li class="chapter-item expanded "><a href="../../bare_metal/no_std/removing_std_lib.html"><strong aria-hidden="true">8.2.</strong> Disabling the Standard Library</a></li><li class="chapter-item expanded "><a href="../../bare_metal/no_std/pracs_1.html"><strong aria-hidden="true">8.3.</strong> Pracs 1</a></li><li class="chapter-item expanded "><a href="../../bare_metal/no_std/pracs_2.html"><strong aria-hidden="true">8.4.</strong> Pracs 2</a></li></ol></li><li class="chapter-item expanded "><a href="../../bare_metal/cross_compilation/cross_compilation.html"><strong aria-hidden="true">9.</strong> Cross-Compilation</a></li><li class="chapter-item expanded "><a href="../../bare_metal/linking/linking.html"><strong aria-hidden="true">10.</strong> Linking</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../bare_metal/linking/rusty_linkers.html"><strong aria-hidden="true">10.1.</strong> Rusty Linkers</a></li></ol></li><li class="chapter-item expanded "><a href="../../bare_metal/probing/probing_preface.html"><strong aria-hidden="true">11.</strong> Probing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../bare_metal/probing/probing_theory_1.html" class="active"><strong aria-hidden="true">11.1.</strong> Probing Theory</a></li><li class="chapter-item expanded "><a href="../../bare_metal/probing/pracs.html"><strong aria-hidden="true">11.2.</strong> Probing Pracs</a></li><li class="chapter-item expanded "><a href="../../bare_metal/probing/udev.html"><strong aria-hidden="true">11.3.</strong> udev</a></li><li class="chapter-item expanded "><a href="../../bare_metal/probing/flashing.html"><strong aria-hidden="true">11.4.</strong> Flashing</a></li><li class="chapter-item expanded "><a href="../../bare_metal/probing/logging_and_monitoring/monitoring_1.html"><strong aria-hidden="true">11.5.</strong> Monitoring and Logging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../bare_metal/probing/logging_and_monitoring/monitoring_2.html"><strong aria-hidden="true">11.5.1.</strong> draft_1</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.6.</strong> Debugging</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.7.</strong> No-std testing</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Performance testing</div></li><li class="chapter-item expanded affix "><li class="part-title">ABSTRACTIONS</li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> MMIO programming</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../registers_and_mmio_programming.html"><strong aria-hidden="true">13.1.</strong> Registers and MMIO programming</a></li></ol></li><li class="chapter-item expanded "><a href="../../knowing_your_hardware.html"><strong aria-hidden="true">14.</strong> The datasheet</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Abstraction</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../svd2rust.html"><strong aria-hidden="true">15.1.</strong> svd2rust</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">THE UART THEORY</li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Understanding UART Theory</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../uart_theory/draft_1.html"><strong aria-hidden="true">16.1.</strong> draft_1</a></li><li class="chapter-item expanded "><a href="../../uart_theory/draft_2.html"><strong aria-hidden="true">16.2.</strong> draft_2</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.</strong> Understanding UART physical Implemetation in the esp32</div></li><li class="chapter-item expanded affix "><li class="part-title">THE UART IMPLEMENTATION (naive, without async)</li><li class="chapter-item expanded "><a href="../../uart_implementations/on_qemu/intro.html"><strong aria-hidden="true">18.</strong> tutorial over a naive UART implementation on a Qemu device</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../uart_implementations/on_qemu/setting_things_up.html"><strong aria-hidden="true">18.1.</strong> Setting Things Up</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">19.</strong> tutorial over a naive UART implementation on a Esp32 device</div></li><li class="chapter-item expanded affix "><li class="part-title">THE UART IMPLEMENTATION (less naive, with async)</li><li class="chapter-item expanded "><div><strong aria-hidden="true">20.</strong> tutorial over a naive UART implementation on a Qemu device</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">21.</strong> tutorial over a naive UART implementation on a Esp32 device</div></li><li class="chapter-item expanded affix "><li class="part-title">OTHER STORIES</li><li class="chapter-item expanded "><div><strong aria-hidden="true">22.</strong> Driver Security</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">22.1.</strong> Common Security Issues in Driver Development</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">22.2.</strong> Rust's Safety Features for Driver Security</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">22.3.</strong> Best Practices for Secure Driver Development</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">23.</strong> Case Studies and Examples</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">23.1.</strong> Real-world Driver Development Examples</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">23.2.</strong> Analyzing an Existing Rust Driver</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">24.</strong> Iterative Implementation</div></li><li class="chapter-item expanded affix "><li class="part-title">APPENDIX</li><li class="chapter-item expanded "><a href="../../notable_crates.html"><strong aria-hidden="true">25.</strong> Notable Crates</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">26.</strong> Notable Learning Resources</div></li><li class="chapter-item expanded "><a href="../../why_embedded_rust.html"><strong aria-hidden="true">27.</strong> why use Rust?</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">28.</strong> Out of topic</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../misc/different_std_libs.html"><strong aria-hidden="true">28.1.</strong> different_std_libs</a></li><li class="chapter-item expanded "><a href="../../misc/the_C_runtime.html"><strong aria-hidden="true">28.2.</strong> the-C-runtime</a></li><li class="chapter-item expanded "><a href="../../misc/API.html"><strong aria-hidden="true">28.3.</strong> api-definition</a></li><li class="chapter-item expanded "><a href="../../misc/abi.html"><strong aria-hidden="true">28.4.</strong> abi-definition</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">driver development in Rust</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/RustaceansKenya/driver-development-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/RustaceansKenya/driver-development-book/edit/master/driver_book/src/bare_metal/probing/probing_theory_1.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="probing-theory"><a class="header" href="#probing-theory">Probing Theory</a></h1>
<p>What is probing really? How is it achieved? What's flashing? What's in-system programming? Debugging?</p>
<h2 id="probing"><a class="header" href="#probing">Probing</a></h2>
<p>Probing is the act of interacting with a microcontroller... or a device that does not have a comprehensive User Interface.<br />
<img src="img/probe_scifi.png" alt="Alt text" /></p>
<p>Interacting may mean one of the following :</p>
<ol>
<li><strong>In-system programming</strong> - this is the process of accessing the RAM and ROM of components in the SoC in such a way that you can change the firmware code.</li>
<li><strong>Monitoring</strong> - this is the act of fetching data on the events happening in the SoC for the sake of maybe debugging.</li>
<li><strong>Flashing</strong> - Flashing is a fancy name for : &quot;using in-system programming to wipe out all the current firmware in the memory and replacing them with fresh new lines&quot;</li>
<li><strong>SoC testing</strong> (eg boundary scan testing) - this is the act of testing whether the circuitry of the SoC works as expected.</li>
</ol>
<h2 id="how-are-probing-devices-able-to-interact-with-a-chip"><a class="header" href="#how-are-probing-devices-able-to-interact-with-a-chip">How are probing devices able to interact with a chip?</a></h2>
<p>&quot;A probing device is able to interact with a chip because the probe device interfaces with the boundary-scan interface present on the chip.&quot;</p>
<p>An SoC is made up of circuits. To test whether the circuits worked as exected, the designers of the past used to use <a href="https://en.wikipedia.org/wiki/Test_fixture">test fixtures</a> but with time they settled for using on-chip test circuits.<br />
An popular and standard example of on-chip test circuitry is the <a href="https://www.youtube.com/watch?v=Y_dfg8h_yEY">Boundary-scan</a>.</p>
<p>With time, it became clear that boundary scans could control and affect how the SoCs worked if connected properly. They could even be used to read and write to the RAM and ROM if attached to the DMA controller. They could be used to monitor the signals coming in and out of the Core. They could be used to inject stub data to the pins of the core and thus manipulate the core itself... Boundary-scans became the holy-grail of monitoring and manipulating SoCs.</p>
<p>With time people came up with boundary scan standards that roughly specified : </p>
<ul>
<li>How the circuitry was hooked up. </li>
<li>How the physical interface between the scan and external probes was to b implemented. </li>
<li>The communication protocol between the scan and external probes.</li>
</ul>
<p>One open and stadardized boundary scan is called the JTAG standard.<br />
There is also another proprietary on-chip test circuitry called SWD.</p>
<p>All this info might not make sense on the go...<br />
Go watch this <a href="https://www.youtube.com/watch?v=TlWlLeC5BUs">video by EEVBlog</a>, it puts things into persective.</p>
<p>After that <a href="https://www.youtube.com/watch?v=TlWlLeC5BUs">video</a>, you might want to get your definitions and structures right by reading a more <a href="https://www.xjtag.com/about-jtag/jtag-a-technical-overview/">formal but simple technical guide</a> by the xjtag organization.</p>
<p>By the end of all that reading and video-watching, the figure below should make total sense... in fact, you should be very very mad because it misses out on some important components :</p>
<p><img src="img/jtag-registers.jpg" alt="Alt text" /></p>
<h2 id="the-probe-debug-adapter"><a class="header" href="#the-probe-debug-adapter">The Probe/ Debug Adapter</a></h2>
<p>From here on, the term JTAG will be used a synonym for Boundary-scan-circuit.</p>
<p>The probe/debug adapter is the physical device that connects a normal computer to the JTAG interface. This is because the JTAG interface is not directly compatible to the ports found on a normal computer. For example the USB port found on a computer cannot directly connect to the 4 pins of the JTAG port.</p>
<p><img src="img/probe-core.png" alt="Alt text" /></p>
<h2 id="open-ocd-and-its-alternatives"><a class="header" href="#open-ocd-and-its-alternatives">Open-OCD and its alternatives</a></h2>
<p>So how does the host computer know which signals to send to the Debug adapter?</p>
<p>There is a program called OpenOCD. OpenOCD is a software abstraction of the JTAG protocol. This software program consumes high-level debug commands and outputs JTAG-level commands through the USB port.</p>
<p>From there, the drivers found in the debug adapter convert those USB-wrapped-JTAG-electrical signals into a 4-split output as shown below :</p>
<p><img src="img/openocd-probe-core%20.png" alt="Alt text" /></p>
<p>There are many alternatives to OpenOCD... eg Probe-rs and SJLink. OpenOCD was used here just because it is a popular and battle-tested software. So whenever we mention OpenOCD, we are indirectly referring to all the JTAG-protocol software implementations; it is inaccurate but convenient.</p>
<p>Just to clarify, the high level commands that get consumed by OpenOCD do not necessarily have to come from the GDB debugger, they can come from any software that can interface with the API. For example 'flashing programs' and 'Monitoring programs' can also apply here... even well interfaced bash scripts are allowed!</p>
<h2 id="gdb-and-its-alternatives"><a class="header" href="#gdb-and-its-alternatives">GDB and its alternatives</a></h2>
<p>GDB (GNU Debugger) is a debugging software that has a well defined debugging protocol. There are many other debugging software and corresponding protocols... but we'll stick to GDB because it is has great support, well documented and it has many functionalities. It is battle-tested.</p>
<p>There are three modules of the GDB that are worth noting here : </p>
<ol>
<li>The GDB main application (mostly a CLI, but there are GUI implementions too)</li>
<li>The gdb server</li>
<li>The gdb stub</li>
</ol>
<p><strong>The GDB CLI</strong> is the core application, the engine. It is interactive and complete.</p>
<p><strong>The gdb server</strong> is a proxy between GDB CLI and other applications. Its main roles are :</p>
<ul>
<li>Listening &amp; Receiving data/instructions from the GDB CLI</li>
<li>Listening &amp; Receiving data/instructions from the application that has been interfaced to the GDB CLI</li>
<li>Passing on received data to the opposite end of the channel.</li>
</ul>
<p><strong>The gdb stub</strong> the gdb stub has two meanings depending on the context. And before we define the meanings, we'll take a detour to understand a tiny part of how a debugger works.</p>
<h3 id="the-detour-how-a-debugger-works"><a class="header" href="#the-detour-how-a-debugger-works">The Detour: How a debugger works</a></h3>
<p>Suppose you are debugging program <code>x</code> on your linux machine... the debub program and program <code>x</code> will run as two seperate processes.</p>
<p><strong>Debugging Information:</strong><br />
When you compile a program with debugging information enabled, the compiler includes additional metadata in the executable binary. This metadata provides GDB with information about the source code, such as variable names, line numbers, function names, and the layout of the program's memory.</p>
<p><strong>Launching the Program:</strong><br />
To debug a program with GDB, you typically start GDB and specify the executable binary of the program as an argument.<br />
GDB loads the executable binary into memory (RAM) and prepares it for debugging. It also reads the debugging information embedded in the binary to understand the structure of the program.</p>
<p><strong>Injecting extra code</strong><br />
When you set debugging breakpoints, what GDB actually does is to insert 'control code' in the process x's RAM text section. Same case to the <code>continue</code> gdb instruction.</p>
<p>During execution, the program's code resides in memory, where it can be modified by the debugger for debugging purposes. This modification is temporary and does not alter the original program file on disk.</p>
<p>When GDB inserts a breakpoint or other debugging instruction, it's modifying the program's code in memory, not the original source code file. This modification allows the debugger to interrupt the program's execution at specific points and provide debugging information to the user without permanently altering the program itself.</p>
<h3 id="back-from-the-detour-defining-gdb-stub"><a class="header" href="#back-from-the-detour-defining-gdb-stub">Back from the Detour: Defining gdb stub</a></h3>
<p>In the normal debugging context (i.e in a non-embedded environment), the word gdb stub means 'a file that contains the implementations of the control code that usually gets injected by the debugger into the process' memory.</p>
<p>You can learn more about this from the <a href="https://ftp.gnu.org/old-gnu/Manuals/gdb/html_node/gdb_126.html">official gdb docs on stubs</a></p>
<p>In the embedded context, the gdb stub is a piece of firmware that implements the 'control code' that gets inserted in the process' memory. It also contains an implementation of code that allows it to communicate to the gdb server. This GDB stub is usually found on the target machine or the debub probe.</p>
<p>GDB stubs are commonly used in embedded systems for facilitating communication between the target device and the debugger.</p>
<!--  undone

## Summary Picture  
 draw a summary picture that shows the relations between : 
 - host computer
 - target SoC
 - Debug Adapter
 - openOCD
 - GDB cli, gdb server, gdb stub
 - jtag interface
 - jtag TAP
 - core
 - memories (RAM + ROM) -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../bare_metal/probing/probing_preface.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../bare_metal/probing/pracs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../bare_metal/probing/probing_preface.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../bare_metal/probing/pracs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
